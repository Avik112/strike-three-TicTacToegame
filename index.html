""<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Strike Three</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: url('tct-bg.jpg') no-repeat center center fixed;
      background-size: cover;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      overflow: hidden;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body::before {
      content: "";
      position: absolute;
      inset: 0;
      background: inherit;
      filter: blur(8px);
      z-index: -1;
    }

    #game-container {
      background-color: rgba(0, 0, 0, 0.65);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 0 25px rgba(255, 255, 255, 0.3);
      z-index: 1;
      text-align: center;
    }

    h1 {
      color: #fff;
      font-size: 2.5rem;
      margin-bottom: 20px;
    }

    .mode-buttons {
      margin-bottom: 15px;
    }

    button {
      padding: 10px 20px;
      margin: 0 10px;
      border: none;
      border-radius: 10px;
      background-color: #00bcd4;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s, background-color 0.3s;
    }

    button:hover {
      background-color: #0097a7;
      transform: scale(1.05);
    }

    #board {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      grid-gap: 10px;
      margin: 20px auto;
      justify-content: center;
    }

    .cell {
      width: 100px;
      height: 100px;
      background-color: #ffffffcc;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2rem;
      font-weight: bold;
      color: #000;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .cell:hover {
      transform: scale(1.1);
    }

    #message {
      margin-top: 15px;
      font-size: 1.2rem;
      color: red;
      font-weight: bold;
    }

    #reset {
      margin-top: 10px;
      background-color: #f44336;
    }

    .win {
      animation: winFlash 1s ease-in-out infinite alternate;
    }

    @keyframes winFlash {
      0% { background-color: #4caf50; color: #fff; }
      100% { background-color: #81c784; color: #fff; }
    }
  </style>
</head>
<body>
  <div id="game-container">
    <h1>Strike Three</h1>
    <div class="mode-buttons">
      <button onclick="setMode('pvp')">Player vs Player</button>
      <button onclick="setMode('pvc')">Player vs Computer</button>
    </div>
    <div id="board"></div>
    <div id="message"></div>
    <button id="reset" onclick="resetGame()">Reset Game</button>
  </div>

  <script>
    const boardElement = document.getElementById("board");
    const messageElement = document.getElementById("message");
    let board = ["", "", "", "", "", "", "", "", ""];
    let currentPlayer = "X";
    let mode = "pvp";
    let gameOver = false;

    function setMode(selectedMode) {
      mode = selectedMode;
      resetGame();
      messageElement.textContent = mode === 'pvp' 
        ? 'ðŸ‘¥ Player vs Player mode started!' 
        : 'ðŸ¤– Player vs Computer mode started!';
    }

    function handleClick(index) {
      if (gameOver || board[index] !== "") return;

      board[index] = currentPlayer;
      renderBoard();

      if (checkWin(currentPlayer)) {
        messageElement.textContent = `ðŸŽ‰ ${currentPlayer} wins! Congratulations!`;
        gameOver = true;
        highlightWin(currentPlayer);
        return;
      } else if (!board.includes("")) {
        messageElement.textContent = "ðŸ˜® It's a draw!";
        gameOver = true;
        return;
      }

      currentPlayer = currentPlayer === "X" ? "O" : "X";

      if (mode === "pvc" && currentPlayer === "O" && !gameOver) {
        setTimeout(() => {
          computerMove();
        }, 500);
      }
    }

    function computerMove() {
      const bestMove = getBestMove();
      if (bestMove !== -1) {
        board[bestMove] = "O";
        renderBoard();
        if (checkWin("O")) {
          messageElement.textContent = "ðŸ¤– O wins! Try again!";
          gameOver = true;
          highlightWin("O");
        } else if (!board.includes("")) {
          messageElement.textContent = "ðŸ˜® It's a draw!";
          gameOver = true;
        }
        currentPlayer = "X";
      }
    }

    function getBestMove() {
      let bestScore = -Infinity;
      let move = -1;

      for (let i = 0; i < board.length; i++) {
        if (board[i] === "") {
          board[i] = "O";
          let score = minimax(board, 0, false);
          board[i] = "";
          if (score > bestScore) {
            bestScore = score;
            move = i;
          }
        }
      }

      return move;
    }

    function minimax(newBoard, depth, isMaximizing) {
      if (checkWin("O", newBoard)) return 10 - depth;
      if (checkWin("X", newBoard)) return depth - 10;
      if (!newBoard.includes("")) return 0;

      if (isMaximizing) {
        let bestScore = -Infinity;
        for (let i = 0; i < newBoard.length; i++) {
          if (newBoard[i] === "") {
            newBoard[i] = "O";
            let score = minimax(newBoard, depth + 1, false);
            newBoard[i] = "";
            bestScore = Math.max(score, bestScore);
          }
        }
        return bestScore;
      } else {
        let bestScore = Infinity;
        for (let i = 0; i < newBoard.length; i++) {
          if (newBoard[i] === "") {
            newBoard[i] = "X";
            let score = minimax(newBoard, depth + 1, true);
            newBoard[i] = "";
            bestScore = Math.min(score, bestScore);
          }
        }
        return bestScore;
      }
    }

    function checkWin(player, b = board) {
      const winPatterns = [
        [0,1,2],[3,4,5],[6,7,8],
        [0,3,6],[1,4,7],[2,5,8],
        [0,4,8],[2,4,6]
      ];
      return winPatterns.some(pattern =>
        pattern.every(index => b[index] === player)
      );
    }

    function highlightWin(player) {
      const winPatterns = [
        [0,1,2],[3,4,5],[6,7,8],
        [0,3,6],[1,4,7],[2,5,8],
        [0,4,8],[2,4,6]
      ];
      winPatterns.forEach(pattern => {
        if (pattern.every(i => board[i] === player)) {
          pattern.forEach(i => {
            document.querySelectorAll('.cell')[i].classList.add('win');
          });
        }
      });
    }

    function resetGame() {
      board = ["", "", "", "", "", "", "", "", ""];
      currentPlayer = "X";
      gameOver = false;
      messageElement.textContent = mode === 'pvp'
        ? 'ðŸ‘¥ Player vs Player mode started!'
        : 'ðŸ¤– Player vs Computer mode started!';
      renderBoard();
    }

    function renderBoard() {
      boardElement.innerHTML = "";
      board.forEach((cell, index) => {
        const cellElement = document.createElement("div");
        cellElement.classList.add("cell");
        cellElement.textContent = cell;
        cellElement.addEventListener("click", () => handleClick(index));
        boardElement.appendChild(cellElement);
      });
    }

    renderBoard();
  </script>
</body>
</html>